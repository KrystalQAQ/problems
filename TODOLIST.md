# TODOLIST（系统设计与落地）

> 目标：做一个移动端友好的刷题网站（Vue 前端 + Supabase 后端），题库来自 `problems.txt`。

## 0. MVP（已完成）
- [x] Supabase 表结构 + RLS：`supabase/schema.sql`
- [x] 题库导入 SQL：`supabase/seed_problems.sql`
- [x] 题库页面：筛选/搜索/分页（匿名可浏览）
- [x] 题目详情：单选/多选判题、展示参考答案
- [x] 登录/注册/退出：Supabase Auth（邮箱密码）
- [x] 提交记录：`submissions`（仅本人可读写）
- [x] 题目状态：`user_problem_state`（收藏、最近一次判题）
- [x] 我的页：统计总提交、正确、错误、收藏数

## 1. 题库与内容
- [ ] 题目解析增强：支持更复杂的换行/题干内选项、补齐缺失选项（例如某些题缺 A 项）
- [ ] 题目字段扩展：解析“解析/来源/章节/标签/难度”
- [ ] 管理端：题库增删改、批量导入、版本管理

## 2. 练习体验
- [ ] 练习模式：顺序/随机/错题重练/收藏练习
- [ ] 进度统计：按题型/章节正确率、连续正确、最近 7 天趋势
- [ ] 交互优化：键盘快捷键、自动下一题、显示已选/正确高亮
- [ ] 填空题判题：答案标准化（全角半角、空格、分隔符）、多答案支持

## 3. 账户与安全
- [ ] 更细粒度 RLS：限制匿名请求频率（结合 Edge Function/网关）
- [ ] 管理员角色：仅管理员可写题库（Supabase custom claims 或单独 admins 表）
- [ ] 审计与风控：异常请求日志、导入记录

## 4. 性能与工程化
- [ ] 列表性能：按 `section/source_no` 的分页优化、搜索索引/全文检索
- [ ] 缓存：题库列表缓存、预取下一题
- [ ] 监控：前端错误上报、Supabase logs 监控
- [ ] 部署：Vercel/Netlify + Supabase，配置环境变量与路由重写

